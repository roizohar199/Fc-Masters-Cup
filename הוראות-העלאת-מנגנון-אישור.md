# ×”×•×¨××•×ª ×”×¢×œ××” - ×× ×’× ×•×Ÿ ××™×©×•×¨ ×× ×”×œ ×œ××©×ª××©×™×

## ğŸ“‹ ×§×‘×¦×™× ×©×¦×¨×™×š ×œ×”×¢×œ×•×ª

### ×©×œ×‘ 1ï¸âƒ£: ×‘× ×™×™×” ××§×•××™×ª (Local Build)

#### ×‘× ×” ××ª ×”×©×¨×ª:
```bash
cd server
npm run build
```

#### ×‘× ×” ××ª ×”×œ×§×•×—:
```bash
cd client
npm run build
```

---

### ×©×œ×‘ 2ï¸âƒ£: ×”×¢×œ××ª ×§×‘×¦×™× ×œ×©×¨×ª

#### A. **×§×‘×¦×™ ×©×¨×ª (Server):**

×”×¢×œ×” ××ª ×”×§×‘×¦×™× ×”×‘××™×:

```
server/
â”œâ”€â”€ dist/
â”‚   â”œâ”€â”€ routes/
â”‚   â”‚   â””â”€â”€ approvalRequests.js      â­ ×—×“×©
â”‚   â”œâ”€â”€ db.js                         â­ ××¢×•×“×›×Ÿ
â”‚   â””â”€â”€ index.js                      â­ ××¢×•×“×›×Ÿ
â”œâ”€â”€ package.json
â””â”€â”€ tournaments.sqlite                â­ ××¡×“ × ×ª×•× ×™× ××¢×•×“×›×Ÿ
```

#### B. **×§×‘×¦×™ ×œ×§×•×— (Client):**

×”×¢×œ×” ××ª **×›×œ** ×ª×™×§×™×™×ª `client/dist/`:

```
client/
â””â”€â”€ dist/
    â”œâ”€â”€ index.html
    â””â”€â”€ assets/
        â””â”€â”€ (×›×œ ×”×§×‘×¦×™×)
```

---

### ×©×œ×‘ 3ï¸âƒ£: ×•×™×“×•× ×©××¡×“ ×”× ×ª×•× ×™× ××¢×•×“×›×Ÿ

×”×˜×‘×œ×” `approval_requests` ×ª×™×•×•×¦×¨ ××•×˜×•××˜×™×ª ×›×©×”×©×¨×ª ×™×¢×œ×”.

×”×¢××•×“×•×ª ×”×‘××•×ª ×‘-`users` ×™×ª×•×•×¡×¤×• ××•×˜×•××˜×™×ª ×× ×”×Ÿ ×œ× ×§×™×™××•×ª:
- `isSuperAdmin` (INTEGER)
- `approvalStatus` (TEXT)
- `approvalToken` (TEXT)

---

### ×©×œ×‘ 4ï¸âƒ£: ×”×¤×¢×œ×” ××—×“×© ×©×œ ×”×©×¨×ª

```bash
cd server
pm2 restart fc-masters-cup
# ××•
npm start
```

---

## âœ… ×‘×“×™×§×ª ×ª×§×™× ×•×ª

### ×‘×“×•×§ ×©×”-API ×¢×•×‘×“:

```bash
# ×‘×“×•×§ ×‘×§×©×•×ª ××™×©×•×¨ ×××ª×™× ×•×ª (×“×•×¨×© ×× ×”×œ ×¢×œ)
curl -H "Authorization: Bearer YOUR_TOKEN" \
  https://your-domain.com/api/approval-requests/pending

# ×‘×“×•×§ ×¡×¤×™×¨×ª ×‘×§×©×•×ª
curl -H "Authorization: Bearer YOUR_TOKEN" \
  https://your-domain.com/api/approval-requests/count
```

### ×‘×“×•×§ ×‘×××©×§ ×”××“××™×Ÿ:

1. ×”×ª×—×‘×¨ ×›×× ×”×œ ×¢×œ
2. ×”×™×›× ×¡ ×œ-Admin Dashboard
3. ×××•×¨ ×œ×¨××•×ª ×—×œ×•×Ÿ "×‘×§×©×•×ª ×××ª×™× ×•×ª" (×× `isSuperAdmin=1`)

---

## ğŸ”‘ ×”×’×“×¨×ª ×× ×”×œ ×¢×œ

×•×“× ×©×§×•×‘×¥ `.env` ×‘×©×¨×ª ××›×™×œ:

```env
ADMIN_EMAIL=your-email@example.com
ADMIN_PASSWORD=your-secure-password
```

×”×©×¨×ª ×™×’×“×™×¨ ××•×˜×•××˜×™×ª ××ª ×”××©×ª××© ×”×–×” ×›-Super Admin ×¢× `isSuperAdmin=1`.

---

## ğŸ“‚ ×¨×©×™××ª ×§×‘×¦×™× ××œ××” ×œ×”×¢×œ××”

### ×©×¨×ª (×§×‘×¦×™× ××§×•××¤×œ×™×):
- âœ… `server/dist/routes/approvalRequests.js`
- âœ… `server/dist/db.js`
- âœ… `server/dist/index.js`
- âœ… `server/dist/auth.js` (×× ×¢×•×“×›×Ÿ)
- âœ… `server/tournaments.sqlite`

### ×œ×§×•×— (×›×œ dist):
- âœ… `client/dist/` (×›×œ ×”×ª×™×§×™×™×”)

---

## ğŸ› ï¸ ×¤×ª×¨×•×Ÿ ×‘×¢×™×•×ª

### ×× ×œ× ×¨×•××” ×‘×§×©×•×ª ××™×©×•×¨:

1. ×‘×“×•×§ ×©×”××©×ª××© ×”×•× Super Admin:
   ```sql
   SELECT email, isSuperAdmin FROM users WHERE email='your-email@example.com';
   ```

2. ×‘×“×•×§ ×©×”×˜×‘×œ×” ×§×™×™××ª:
   ```sql
   SELECT * FROM approval_requests;
   ```

3. ×‘×“×•×§ ×œ×•×’×™× ×©×œ ×”×©×¨×ª:
   ```bash
   pm2 logs fc-masters-cup
   ```

### ×× ×™×© ×©×’×™××•×ª:

1. ×•×“× ×©-`node_modules` ××¢×•×“×›×Ÿ ×‘×©×¨×ª
2. ×”×¨×¥ `npm install` ×‘×ª×™×§×™×™×ª `server/`
3. ×”×¤×¢×œ ××—×“×© ××ª ×”×©×¨×ª

---

## ğŸ“ ×”×¢×¨×•×ª ×—×©×•×‘×•×ª

- ×× ×”×œ **×¨×’×™×œ** ×™×•×¦×¨ ×‘×§×©×•×ª ××™×©×•×¨ ×©×× ×”×œ **×¢×œ** ×¦×¨×™×š ×œ××©×¨
- ×× ×”×œ **×¢×œ** (`isSuperAdmin=1`) ×™×›×•×œ ×œ×‘×¦×¢ ×¤×¢×•×œ×•×ª ×™×©×™×¨×•×ª ×œ×œ× ××™×©×•×¨
- ×”×¤×¢×•×œ×•×ª ×”× ×ª××›×•×ª:
  - `block` - ×—×¡×™××ª ××©×ª××©
  - `unblock` - ×‘×™×˜×•×œ ×—×¡×™××”
  - `reset-password` - ××™×¤×•×¡ ×¡×™×¡××”
  - `update-credit` - ×¢×“×›×•×Ÿ ×–×™×›×•×™
  - `promote` - ×”×¤×™×›×” ×œ×× ×”×œ
  - `demote` - ×”×•×¨×“×” ×œ×©×—×§×Ÿ
  - `delete` - ××—×™×§×ª ××©×ª××©

---

×¡×™×™××ª! ×”×× ×’× ×•×Ÿ ×××•×¨ ×œ×¢×‘×•×“ ×‘××ª×¨ ×”×—×™ ğŸ‰

